---
title: Timeline Control
description: Slider control to control the media timeline. Composed with timeline state control
---

import { Step, Steps } from "fumadocs-ui/components/steps"

<ComponentPreview name="timeline-control-demo" withPlayer />

## Installation

<Steps>
<Step>
### Install the component
```npm
npx shadcn add @limeplay/timeline-control
```
</Step>

<Step>
### Add Event & Action Bridge
Import the `useTimelineStates` hook in your existing `PlayerHooks` component.

```tsx lineNumbers title="components/limeplay/player-hooks.tsx"
import React from "react"

import { useShakaPlayer } from "@/hooks/limeplay/use-shaka-player"
import { useTimelineStates } from "@/hooks/limeplay/use-timeline" // [!code ++]

export const PlayerHooks = React.memo(() => {
  useShakaPlayer()
  useTimelineStates() // [!code ++]

  return null
})
```

</Step>

<Step>
### Add the Store States

```tsx lineNumbers title="lib/create-media-store.ts"
import { createPlayerStore, PlayerStore } from "@/hooks/limeplay/use-player"
import {
  createTimelineStore,
  TimelineStore,
} from "@/hooks/limeplay/use-timeline"

// [!code ++]

export type TypeMediaStore = PlayerStore & TimelineStore & {} // [!code ++]

export function createMediaStore(initProps?: Partial<CreateMediaStoreProps>) {
  const mediaStore = create<TypeMediaStore>()((...etc) => ({
    ...createPlayerStore(...etc),
    ...createTimelineStore(...etc), // [!code ++]
    ...initProps,
  }))
  return mediaStore
}
```

</Step>
</Steps>

## Example Usage

1. Compose the timeline slider and handle states

```tsx lineNumbers title="components/player/timeline-control.tsx"
import { useMediaStore } from "@/components/limeplay/media-provider"
import * as TimelineSlider from "@/components/limeplay/timeline-control"
import { Duration, HoverTime } from "@/components/limeplay/timeline-labels"

export function TimelineSliderControl() {
  return (
    <div className="relative w-full grow">
      <TimelineSlider.Root className="focus-area -focus-area-x-2 -focus-area-y-14">
        <TimelineSlider.Track className="overflow-hidden">
          <TimelineSlider.Progress />
          <TimelineSlider.Buffered variant="combined" />
        </TimelineSlider.Track>
        {/* Thumb to Seek */}
        <TimelineSlider.Thumb
          showWithHover
          className={"absolute h-8 w-px rounded-full bg-lp-accent/60"}
        />
        {/* Custom Thumb */}
        <TimelineSlider.Thumb
          showWithHover
          className={
            "top-auto! bottom-[calc(100%+16px)] flex h-auto w-fit bg-transparent text-xs font-medium"
          }
        >
          <HoverTime />
          <Duration className="text-lp-accent/60" />
        </TimelineSlider.Thumb>
      </TimelineSlider.Root>
    </div>
  )
}
```

2. Use the component in your player.

```tsx lineNumbers title="components/player/bottom-controls.tsx"
<TimelineSliderControl />
```

## Understanding

The Timeline Control implements a highly composable seek slider following the **Event & Action Bridge** pattern:

- **Event Bridge**: [`useTimelineStates()`](/docs/hooks/use-timeline) updates `currentTime`, `duration`, `progress`, and `buffered` ranges via polling (default 500ms)
- **Action Bridge**: Components use [`useTimeline()`](/docs/hooks/use-timeline) to call `seek()` which updates `media.currentTime`

### Live Stream Support

Timeline automatically handles live streams:
- Uses Shaka Player's `seekRange()` for proper DVR seeking
- Displays live latency
- Adjusts progress calculation for sliding window

### Accessibility

- **ARIA Slider**: `aria-label="Timeline Slider"`
- **Keyboard Navigation**: Focus and arrow key support
- **Screen Reader**: Announces time changes
- **Visual Focus**: Clear focus indicators

## Components

Timeline is built with multiple composable parts.

### Root

Main slider container with built-in click/drag seek handling.

#### API Reference
<AutoTypeTable path="./registry/default/ui/timeline-control.tsx" name="TimelineRootPropsDocs" />

### Thumb

Draggable handle and/or hover preview.

#### API Reference
<AutoTypeTable path="./registry/default/ui/timeline-control.tsx" name="TimelineThumbPropsDocs" />

### Buffered

Shows buffered ranges. Supports 3 variants: `default`, `combined`, `from-zero`.

#### API Reference
<AutoTypeTable path="./registry/default/ui/timeline-control.tsx" name="TimelineBufferedPropsDocs" />

### Track

Visual track representing full duration. Extends `SliderPrimitive.Track` props.

### Progress

Filled indicator showing playback progress.


