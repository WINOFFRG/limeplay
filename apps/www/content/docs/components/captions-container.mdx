---
title: Captions Container
description: Container component for rendering captions and text tracks
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

## Installation

<Steps>
<Step>
### Install the component
```bash
npx shadcn add @limeplay/captions-container
```
</Step>

<Step>
### Add Event & Action Bridge
Import the `useCaptionsStates` hook in your existing `PlayerHooks` component.

```tsx lineNumbers title="components/limeplay/player-hooks.tsx"
import React from "react"

import { useCaptionsStates } from "@/hooks/limeplay/use-captions" // [!code ++]
import { useShakaPlayer } from "@/hooks/limeplay/use-shaka-player"
import { usePlayerStates } from "@/hooks/limeplay/use-player"

export const PlayerHooks = React.memo(() => {
  useShakaPlayer()
  usePlayerStates()
  useCaptionsStates() // [!code ++]

  return null
})
```
</Step>

<Step>
### Add the Store States

```tsx lineNumbers title="lib/create-media-store.ts"
import { create } from "zustand"

import {
  createCaptionsStore,
  CaptionsStore,
} from "@/hooks/limeplay/use-captions" // [!code ++]
import {
  createPlayerStore,
  PlayerStore,
} from "@/hooks/limeplay/use-player"

export type TypeMediaStore = PlayerStore &
  CaptionsStore & {} // [!code ++]

export function createMediaStore(initProps?: Partial<CreateMediaStoreProps>) {
  const mediaStore = create<TypeMediaStore>()((...etc) => ({
    ...createPlayerStore(...etc),
    ...createCaptionsStore(...etc), // [!code ++]
    ...initProps,
  }))
  return mediaStore
}
```
</Step>
</Steps>

## Usage

### Basic Captions Container

Place the captions container within your player layout to provide a rendering area for text tracks.

```tsx lineNumbers title="components/player/media-player.tsx"
import { CaptionsContainer } from "@/components/limeplay/captions-container"

export function MediaPlayer() {
  return (
    <MediaProvider>
      <PlayerHooks />
      <Layout.RootContainer height={720} width={1280}>
        <Layout.PlayerContainer>
          <MediaElement />
          <Layout.ControlsContainer>
            <CaptionsContainer />
            <Layout.ControlsBottomContainer>
              <BottomControls />
            </Layout.ControlsBottomContainer>
          </Layout.ControlsContainer>
        </Layout.PlayerContainer>
      </Layout.RootContainer>
    </MediaProvider>
  )
}
```

### Custom Styling

You can customize the captions container with additional styling and font scaling.

```tsx lineNumbers title="components/player/captions-container.tsx"
import { CaptionsContainer } from "@/components/limeplay/captions-container"

export function CustomCaptionsContainer() {
  return (
    <CaptionsContainer
      className="px-4 pb-4"
      fontScale={1.2}
    />
  )
}
```

## API Reference

### CaptionsContainer Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `fontScale` | `number` | `undefined` | Font scale factor for captions (1.0 = normal size) |
| `className` | `string` | `undefined` | Additional CSS classes |
| `...etc` | `React.ComponentPropsWithoutRef<"div">` | - | Additional div props |

## Understanding

The `CaptionsContainer` component serves as the rendering area for Shaka Player's text tracks. It:

- Automatically registers itself with the Shaka Player instance
- Provides proper positioning for caption overlay
- Supports font scaling configuration
- Integrates with the captions store for state management
- Uses Radix UI's compose refs for proper ref handling

The container should be placed within your player's controls area to ensure proper layering and positioning of captions over the video content.
