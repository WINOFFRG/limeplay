{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-volume-states",
  "type": "registry:hook",
  "registryDependencies": [
    "https://limeplay.winoffrg.dev/r/styles/default/media-provider.json",
    "https://limeplay.winoffrg.dev/r/styles/default/utils.json"
  ],
  "files": [
    {
      "path": "registry/default/hooks/use-volume-states.ts",
      "content": "import React from \"react\"\n\nimport { noop, off, on } from \"@/registry/default/lib/utils\"\nimport { useMediaStore } from \"@/registry/default/ui/media-provider\"\n\nexport function useVolumeStates() {\n  const mediaRef = useMediaStore((state) => state.mediaRef)\n  const volume = useMediaStore((state) => state.volume)\n  const setVolume = useMediaStore((state) => state.setVolume)\n  const muted = useMediaStore((state) => state.muted)\n  const setMuted = useMediaStore((state) => state.setMuted)\n\n  React.useEffect(() => {\n    const mediaElement = mediaRef?.current\n    if (!mediaElement) return noop\n\n    mediaElement.volume = volume\n    mediaElement.muted = muted\n  }, [volume, muted, mediaRef])\n\n  React.useEffect(() => {\n    const mediaElement = mediaRef?.current\n    if (!mediaElement) return noop\n\n    const volumeHandler = () => {\n      setVolume(mediaElement.volume)\n      setMuted(mediaElement.muted)\n    }\n\n    on(mediaElement, \"volumechange\", volumeHandler)\n\n    return () => {\n      off(mediaElement, \"volumechange\", volumeHandler)\n    }\n  }, [mediaRef])\n}\n",
      "type": "registry:hook"
    }
  ]
}