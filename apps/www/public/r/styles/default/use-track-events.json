{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-track-events",
  "type": "registry:hook",
  "dependencies": [
    "lodash.clamp"
  ],
  "files": [
    {
      "path": "registry/default/hooks/use-track-events.ts",
      "content": "import * as React from \"react\"\nimport clamp from \"lodash.clamp\"\n\ninterface UseTrackEventsProps<E extends HTMLElement> {\n  /** Orientation of the track. @default \"horizontal\" */\n  orientation?: \"horizontal\" | \"vertical\"\n  /** Progress is 0-1 based on the width of the bar and the pointer event, clamped */\n  onPointerDown: (progress: number, event: React.PointerEvent<E>) => void\n  /**\n   * Progress is 0-1 based on the width of the bar and the pointer event, clamped\n   * Fires on every move, even if the pointer is not down, use isPointerDown to disambiguate\n   */\n  onPointerMove: (\n    progress: number,\n    isPointerDown: boolean,\n    event: React.PointerEvent<E>\n  ) => void\n  /**  */\n  onPointerUp?: (event: React.PointerEvent<E>) => void\n  /**  */\n  onPointerOut?: (event: React.PointerEvent<E>) => void\n}\n\n/** Events for a track/slider bar */\nexport function useTrackEvents<E extends HTMLElement>(\n  props: UseTrackEventsProps<E>\n) {\n  const { orientation = \"horizontal\" } = props\n\n  const getProgress = React.useCallback(\n    (e: React.PointerEvent<E>) => {\n      const rect = e.currentTarget.getBoundingClientRect()\n      let value: number\n\n      if (orientation === \"vertical\") {\n        value = 1 - (e.clientY - rect.top) / e.currentTarget.offsetHeight\n      } else {\n        value = (e.clientX - rect.left) / e.currentTarget.offsetWidth\n      }\n\n      return clamp(value, 0, 1)\n    },\n    [orientation]\n  )\n\n  const onPointerDown = React.useCallback(\n    (e: React.PointerEvent<E>) => {\n      // Ignore non-left clicks\n      if (e.button !== 0) {\n        return\n      }\n\n      e.stopPropagation()\n      e.preventDefault()\n\n      e.currentTarget.setPointerCapture(e.pointerId)\n      const value = getProgress(e)\n      const progress = clamp(value, 0, 1)\n      props.onPointerDown(progress, e)\n    },\n    [props.onPointerDown, getProgress]\n  )\n\n  const onPointerMove = React.useCallback(\n    (e: React.PointerEvent<E>) => {\n      e.stopPropagation()\n      e.preventDefault()\n\n      const value = getProgress(e)\n      const progress = clamp(value, 0, 1)\n      props.onPointerMove(\n        progress,\n        e.currentTarget.hasPointerCapture(e.pointerId),\n        e\n      )\n    },\n    [props.onPointerMove, getProgress]\n  )\n\n  const onPointerUp = React.useCallback(\n    (e: React.PointerEvent<E>) => {\n      e.stopPropagation()\n      e.preventDefault()\n\n      e.currentTarget.releasePointerCapture(e.pointerId)\n      props.onPointerUp?.(e)\n    },\n    [props.onPointerUp]\n  )\n\n  const onPointerOut = React.useCallback(\n    (e: React.PointerEvent<E>) => {\n      e.stopPropagation()\n      e.preventDefault()\n      props.onPointerOut?.(e)\n    },\n    [props.onPointerOut]\n  )\n\n  return { onPointerDown, onPointerMove, onPointerUp, onPointerOut }\n}\n",
      "type": "registry:hook"
    }
  ]
}