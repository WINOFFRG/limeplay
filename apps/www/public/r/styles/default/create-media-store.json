{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "create-media-store",
  "type": "registry:lib",
  "dependencies": [
    "zustand"
  ],
  "files": [
    {
      "path": "registry/default/lib/create-media-store.ts",
      "content": "import { create } from \"zustand\";\n\nimport {\n  createPlayerRootStore,\n  PlayerRootStore,\n} from \"@/registry/default/hooks/use-player-root-store\";\n\nexport type TypeMediaStore = PlayerRootStore & {};\n\nexport interface CreateMediaStoreProps {\n  debug?: boolean;\n}\n\nexport function createMediaStore(initProps?: Partial<CreateMediaStoreProps>) {\n  const mediaStore = create<TypeMediaStore>()((...etc) => ({\n    ...createPlayerRootStore(...etc),\n    ...initProps,\n  }));\n  return mediaStore;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/default/hooks/use-player-root-store.ts",
      "content": "import React from \"react\";\nimport shaka from \"shaka-player\";\nimport type { StateCreator } from \"zustand\";\n\nexport interface PlayerRootStore {\n  idle: boolean;\n  setIdle: (idle: boolean) => void;\n  status: MediaStatus;\n  setStatus: (status: MediaStatus) => void;\n  mediaRef: React.RefObject<HTMLMediaElement>;\n  setMediaRef: (mediaRef: React.RefObject<HTMLMediaElement>) => void;\n  // Player Engine\n  player: shaka.Player | null;\n  setPlayer: (player: shaka.Player | null) => void;\n  debug: boolean;\n  setDebug: (value: boolean) => void;\n  playerContainerRef: HTMLDivElement | null;\n  setPlayerContainerRef: (instance: HTMLDivElement | null) => void;\n}\n\nexport type MediaStatus =\n  | \"init\"\n  | \"buffering\"\n  | \"ended\"\n  | \"error\"\n  | \"paused\"\n  | \"playing\"\n  | \"stopped\";\n\nexport const createPlayerRootStore: StateCreator<\n  PlayerRootStore,\n  [],\n  [],\n  PlayerRootStore\n> = (set) => ({\n  idle: false,\n  setIdle: (idle: boolean) => set({ idle }),\n  status: \"init\",\n  setStatus: (status: MediaStatus) => set({ status }),\n  mediaRef: null!,\n  setMediaRef: (mediaRef: React.RefObject<HTMLMediaElement>) =>\n    set({ mediaRef }),\n  player: null,\n  setPlayer: (player: shaka.Player | null) => set({ player }),\n  debug: false,\n  setDebug: (value) => set({ debug: value }),\n  playerContainerRef: null,\n  setPlayerContainerRef: (instance) => set({ playerContainerRef: instance }),\n});\n",
      "type": "registry:hook"
    }
  ]
}