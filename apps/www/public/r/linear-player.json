{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "linear-player",
  "type": "registry:block",
  "dependencies": [
    "zustand",
    "shaka-player"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/default/blocks/linear-player/media-player.tsx",
      "content": "\"use client\";\n\nimport { Media } from \"@/registry/default/ui/media\";\nimport {\n  MediaProvider,\n  useMediaStore\n} from \"@/registry/default/ui/media-provider\";\nimport React, { useEffect } from \"react\";\nimport { BottomControls } from \"@/registry/default/blocks/linear-player/components/bottom-controls\";\nimport * as Layout from \"@/registry/default/ui/player-layout\";\nimport { CustomPlayerWrapper } from \"@/registry/default/blocks/linear-player/components/custom-player-wrapper\";\n\nimport { PlayerHooks } from \"@/registry/default/ui/player-hooks\";\n\nfunction MediaElement() {\n  const player = useMediaStore((state) => state.player);\n  const mediaRef = useMediaStore((state) => state.mediaRef);\n\n  useEffect(() => {\n    const mediaElement = mediaRef?.current;\n\n    if (player && mediaElement) {\n      player.load(\n        \"https://stream.mux.com/VZtzUzGRv02OhRnZCxcNg49OilvolTqdnFLEqBsTwaxU.m3u8\"\n      );\n\n      return () => {\n        if (mediaElement) {\n          mediaElement.pause();\n        }\n\n        if (player) {\n          player.destroy();\n        }\n      };\n    }\n  }, [player, mediaRef]);\n\n  return (\n    <Media\n      as=\"video\"\n      className=\"size-full bg-black object-cover\"\n      autoPlay={false}\n      poster={\"https://files.vidstack.io/sprite-fight/poster.webp\"}\n      muted\n      controls={false}\n      loop\n    />\n  );\n}\n\nexport function MediaPlayer() {\n  return (\n    <CustomPlayerWrapper>\n      <MediaProvider>\n        <PlayerHooks />\n        <Layout.RootContainer height={720} width={1280} className=\"container\">\n          <Layout.PlayerContainer className=\"mx-auto my-16\">\n            <MediaElement />\n            <Layout.ControlsContainer>\n              <BottomControls />\n            </Layout.ControlsContainer>\n          </Layout.PlayerContainer>\n        </Layout.RootContainer>\n      </MediaProvider>\n    </CustomPlayerWrapper>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/volume-state-control.tsx",
      "content": "\"use client\";\n\nimport { SpeakerHigh, SpeakerLow, SpeakerX } from \"@phosphor-icons/react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { useMediaStore } from \"@/registry/default/ui/media-provider\";\nimport { MuteControl } from \"@/registry/default/ui/mute-control\";\n\nexport function VolumeStateControl() {\n  const muted = useMediaStore((state) => state.muted);\n  const volume = useMediaStore((state) => state.volume);\n\n  return (\n    <Button size=\"icon\" variant=\"glass\" asChild>\n      <MuteControl>\n        {muted || volume === 0 ? (\n          <SpeakerX size={18} weight=\"fill\" />\n        ) : volume < 0.5 ? (\n          <SpeakerLow size={18} weight=\"fill\" />\n        ) : (\n          <SpeakerHigh size={18} weight=\"fill\" />\n        )}\n      </MuteControl>\n    </Button>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/volume-slider-control.tsx",
      "content": "import * as VolumeSlider from \"@/registry/default/ui/volume-control\";\n\nexport function VolumeSliderControlHorizontal() {\n  return (\n    <div className=\"flex min-w-10 grow items-center\">\n      <VolumeSlider.Root\n        className=\"focus-area -focus-area-x-2 -focus-area-y-12 relative h-1 grow cursor-crosshair rounded-md\"\n        orientation=\"horizontal\"\n      >\n        <VolumeSlider.Track />\n        <VolumeSlider.Range />\n        <VolumeSlider.Thumb />\n      </VolumeSlider.Root>\n    </div>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/timeline-slider-control.tsx",
      "content": "import * as TimelineSlider from \"@/registry/default/ui/timeline-control\";\nimport { useTimelineStates } from \"@/registry/default/hooks/use-timeline-states\";\n\nexport function TimelineSliderControl() {\n  useTimelineStates();\n\n  return (\n    <div className=\"my-auto w-full\">\n      <TimelineSlider.Root\n        className=\"focus-area -focus-area-x-2 -focus-area-y-12 h-1 w-full grow cursor-crosshair rounded-md\"\n        orientation=\"horizontal\"\n      >\n        <TimelineSlider.Track />\n        <TimelineSlider.Range />\n        {/* <TimelineSlider.Thumb /> */}\n      </TimelineSlider.Root>\n    </div>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/motion-container.tsx",
      "content": "import { motion } from \"motion/react\";\n\nexport function MotionContainer({ children }: { children: React.ReactNode }) {\n  return (\n    <motion.div\n      initial={{\n        opacity: 0,\n        transform: \"translate(-50%, -49%) scale(0.95)\",\n        scale: 0,\n      }}\n      animate={{\n        opacity: 1,\n        transform: \"translate(-50%, -50%)\",\n        scale: 1,\n      }}\n      transition={{\n        scale: {\n          type: \"spring\",\n          visualDuration: 0.9,\n          stiffness: 100,\n        },\n        opacity: {\n          type: \"ease\",\n          duration: 0.4,\n        },\n      }}\n      className=\"z-100 fixed left-1/2 top-1/2 max-h-[calc(100vh-24px-24px)] w-screen max-w-[calc(100vw-var(--page-padding-left)-var(--page-padding-right))]\"\n    >\n      {children}\n    </motion.div>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/custom-player-wrapper.tsx",
      "content": "import * as motion from \"motion/react-client\";\nimport React from \"react\";\n\nexport function CustomPlayerWrapper({ children }: React.PropsWithChildren) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{\n        duration: 0.2,\n        scale: { type: \"spring\", visualDuration: 0.4, bounce: 0.5 },\n        ease: [0, 0.71, 0.2, 1.01]\n      }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/default/blocks/linear-player/components/bottom-controls.tsx",
      "content": "import { PlaybackStateControl } from \"@/registry/default/blocks/linear-player/components/playback-state-control\";\nimport { VolumeSliderControlHorizontal } from \"@/registry/default/blocks/linear-player/components/volume-slider-control\";\nimport { VolumeStateControl } from \"@/registry/default/blocks/linear-player/components/volume-state-control\";\nimport { TimelineSliderControl } from \"@/registry/default/blocks/linear-player/components/timeline-slider-control\";\n\nexport function BottomControls() {\n  return (\n    <div\n      id=\"controls_container\"\n      className=\"absolute inset-x-0 bottom-8 mx-auto flex items-end gap-2 px-[min(80px,10%)]\"\n    >\n      <PlaybackStateControl />\n      <div className=\"bg-secondary/10 flex h-fit flex-row gap-1 rounded-md pe-4\">\n        <VolumeStateControl />\n        <VolumeSliderControlHorizontal />\n      </div>\n      <TimelineSliderControl />\n    </div>\n  );\n}\n",
      "type": "registry:ui"
    }
  ]
}